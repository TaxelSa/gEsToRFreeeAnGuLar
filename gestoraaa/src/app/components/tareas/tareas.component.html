<div class="contenedor-columnas">
  <div
    cdkDropList
    #col1="cdkDropList"
    [cdkDropListData]="tareasCol1"
    [cdkDropListConnectedTo]="[col2, col3]"
    class="lista"
    (cdkDropListDropped)="drop($event)"
  >
    <h2>Columna 1</h2>
    <div class="tarea" *ngFor="let tarea of tareasCol1" cdkDrag>
      <ng-container *ngIf="tareaEnEdicion?.id_tarea !== tarea.id_tarea">
        {{ tarea.nombre_tarea }}
        <button (click)="editarTarea(tarea)">Modificar</button>
        <button (click)="eliminarTarea(tarea)">Eliminar</button>
      </ng-container>

      <ng-container *ngIf="tareaEnEdicion?.id_tarea === tarea.id_tarea">
<input [(ngModel)]="tareaEnEdicion!.nombre_tarea" />
        <button (click)="guardarCambios()">Guardar</button>
        <button (click)="cancelarEdicion()">Cancelar</button>
      </ng-container>
    </div>
  </div>

  <div
    cdkDropList
    #col2="cdkDropList"
    [cdkDropListData]="tareasCol2"
    [cdkDropListConnectedTo]="[col1, col3]"
    class="lista"
    (cdkDropListDropped)="drop($event)"
  >
    <h2>Columna 2</h2>
    <div class="tarea" *ngFor="let tarea of tareasCol2" cdkDrag>
      <ng-container *ngIf="tareaEnEdicion?.id_tarea !== tarea.id_tarea">
        {{ tarea.nombre_tarea }}
        <button (click)="editarTarea(tarea)">Modificar</button>
        <button (click)="eliminarTarea(tarea)">Eliminar</button>
      </ng-container>

      <ng-container *ngIf="tareaEnEdicion?.id_tarea === tarea.id_tarea">
<input [(ngModel)]="tareaEnEdicion!.nombre_tarea" />
        <button (click)="guardarCambios()">Guardar</button>
        <button (click)="cancelarEdicion()">Cancelar</button>
      </ng-container>
    </div>
  </div>

  <div
    cdkDropList
    #col3="cdkDropList"
    [cdkDropListData]="tareasCol3"
    [cdkDropListConnectedTo]="[col1, col2]"
    class="lista"
    (cdkDropListDropped)="drop($event)"
  >
    <h2>Columna 3</h2>
    <div class="tarea" *ngFor="let tarea of tareasCol3" cdkDrag>
      <ng-container *ngIf="tareaEnEdicion?.id_tarea !== tarea.id_tarea">
        {{ tarea.nombre_tarea }}
        <button (click)="editarTarea(tarea)">Modificar</button>
        <button (click)="eliminarTarea(tarea)">Eliminar</button>
      </ng-container>

      <ng-container *ngIf="tareaEnEdicion?.id_tarea === tarea.id_tarea">
<input [(ngModel)]="tareaEnEdicion!.nombre_tarea" />
        <button (click)="guardarCambios()">Guardar</button>
        <button (click)="cancelarEdicion()">Cancelar</button>
      </ng-container>
    </div>
  </div>
</div>


